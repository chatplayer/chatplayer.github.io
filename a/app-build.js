"bundle";!function(){var a=System.amdDefine;a("app.html!github:systemjs/plugin-text@0.0.8.js",[],function(){return'<template><require from="nav-bar.html"></require><require from="bootstrap/css/bootstrap.css"></require><!-- <nav-bar router.bind="router"></nav-bar> --><div class="text-center"><img style="height:150px; width:auto" src="imgs/logo.png"></div><div class="container text-center"><router-view></router-view></div></template>'})}(),System.register("app.js",[],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d;return{setters:[],execute:function(){a("App",d=function(){function a(){c(this,a)}return a.prototype.configureRouter=function(a,b){a.title="ChatPlayer",a.map([{route:["","welcome"],name:"welcome",moduleId:"welcome",nav:!0,title:"Welcome"},{route:"users/password/edit",name:"forgot-reset",moduleId:"forgot-reset",nav:!0,title:"Forgot Password Reset"},{route:"users/confirmation",name:"password-confirmation",moduleId:"password-confirmation",nav:!0,title:"Password confirmation"}]),this.router=b},a}()),a("App",d)}}}),System.register("blur-image.js",["aurelia-framework"],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b,c,d,f,g){if(!(isNaN(g)||g<1)){g|=0;var h,i=a.getContext("2d");try{h=i.getImageData(b,c,d,f)}catch(j){throw new Error("unable to access image data: "+j)}var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=h.data,L=g+g+1,M=d-1,N=f-1,O=g+1,P=O*(O+1)/2,Q=new e,R=Q;for(o=1;o<L;o++)if(R=R.next=new e,o==O)var S=R;R.next=Q;var T=null,U=null;s=r=0;var V=k[g],W=l[g];for(n=0;n<f;n++){for(B=C=D=E=t=u=v=w=0,x=O*(F=K[r]),y=O*(G=K[r+1]),z=O*(H=K[r+2]),A=O*(I=K[r+3]),t+=P*F,u+=P*G,v+=P*H,w+=P*I,R=Q,o=0;o<O;o++)R.r=F,R.g=G,R.b=H,R.a=I,R=R.next;for(o=1;o<O;o++)p=r+((M<o?M:o)<<2),t+=(R.r=F=K[p])*(J=O-o),u+=(R.g=G=K[p+1])*J,v+=(R.b=H=K[p+2])*J,w+=(R.a=I=K[p+3])*J,B+=F,C+=G,D+=H,E+=I,R=R.next;for(T=Q,U=S,m=0;m<d;m++)K[r+3]=I=w*V>>W,0!=I?(I=255/I,K[r]=(t*V>>W)*I,K[r+1]=(u*V>>W)*I,K[r+2]=(v*V>>W)*I):K[r]=K[r+1]=K[r+2]=0,t-=x,u-=y,v-=z,w-=A,x-=T.r,y-=T.g,z-=T.b,A-=T.a,p=s+((p=m+g+1)<M?p:M)<<2,B+=T.r=K[p],C+=T.g=K[p+1],D+=T.b=K[p+2],E+=T.a=K[p+3],t+=B,u+=C,v+=D,w+=E,T=T.next,x+=F=U.r,y+=G=U.g,z+=H=U.b,A+=I=U.a,B-=F,C-=G,D-=H,E-=I,U=U.next,r+=4;s+=d}for(m=0;m<d;m++){for(C=D=E=B=u=v=w=t=0,r=m<<2,x=O*(F=K[r]),y=O*(G=K[r+1]),z=O*(H=K[r+2]),A=O*(I=K[r+3]),t+=P*F,u+=P*G,v+=P*H,w+=P*I,R=Q,o=0;o<O;o++)R.r=F,R.g=G,R.b=H,R.a=I,R=R.next;for(q=d,o=1;o<=g;o++)r=q+m<<2,t+=(R.r=F=K[r])*(J=O-o),u+=(R.g=G=K[r+1])*J,v+=(R.b=H=K[r+2])*J,w+=(R.a=I=K[r+3])*J,B+=F,C+=G,D+=H,E+=I,R=R.next,o<N&&(q+=d);for(r=m,T=Q,U=S,n=0;n<f;n++)p=r<<2,K[p+3]=I=w*V>>W,I>0?(I=255/I,K[p]=(t*V>>W)*I,K[p+1]=(u*V>>W)*I,K[p+2]=(v*V>>W)*I):K[p]=K[p+1]=K[p+2]=0,t-=x,u-=y,v-=z,w-=A,x-=T.r,y-=T.g,z-=T.b,A-=T.a,p=m+((p=n+O)<N?p:N)*d<<2,t+=B+=T.r=K[p],u+=C+=T.g=K[p+1],v+=D+=T.b=K[p+2],w+=E+=T.a=K[p+3],T=T.next,x+=F=U.r,y+=G=U.g,z+=H=U.b,A+=I=U.a,B-=F,C-=G,D-=H,E-=I,U=U.next,r+=d}i.putImageData(h,b,c)}}function e(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function f(a,b){var c=a.width,e=a.height,f=a.getContext("2d");f.drawImage(b,0,0,c,e),d(a,0,0,c,e,m)}var g,h,i,j,k,l,m;return{setters:[function(a){g=a.inject}],execute:function(){a("BlurImageCustomAttribute",(h=g(Element),j=h(i=function(){function a(b){c(this,a),this.element=b}return a.prototype.valueChanged=function(a){var b=this;a.complete?f(this.element,a):a.onload=function(){return f(b.element,a)}},a}())||i)),a("BlurImageCustomAttribute",j),k=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],m=40}}}),function(){var a=System.amdDefine;a("forgot-reset.html!github:systemjs/plugin-text@0.0.8.js",[],function(){return'<template><require from="blur-image"></require><section class="au-animate col-md-4 col-md-offset-4"><h2 class="text-center">${heading}</h2><h4 if.bind="message.success" class="alert alert-success" role="alert">${message.success}</h4><h4 if.bind="message.error" class="alert alert-danger" role="alert">${message.error}</h4><div if.bind="!message.success && !message.error"><p class="text-muted">Please fill form to receive email with new password</p><form role="form" submit.delegate="submit()" class="text-left"><div class="form-group"><input type="hidden" value.bind="user.reset_password_token" id="reset_password_token" class="form-control"></div><div class="form-group"><label for="password">New password</label><input type="password" value.bind="user.password & validate" id="password" class="form-control"></div><div class="form-group"><label for="fn">New password confirmation</label><input type="password" value.bind="user.password_confirmation & validate" class="form-control"></div><button type="submit" class="btn btn-default"><b>Send</b> <i if.bind="http.isRequesting" class="fa fa-circle-o-notch fa-spin"></i></button></form></div></section></template>'})}(),System.register("bootstrap-form-renderer.js",["aurelia-validation"],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g;return{setters:[function(a){d=a.ValidationRenderer,e=a.RenderInstruction,f=a.ValidateResult}],execute:function(){a("BootstrapFormRenderer",g=function(){function a(){c(this,a)}return a.prototype.render=function(a){for(var b=a.unrender,c=Array.isArray(b),d=0,b=c?b:b[Symbol.iterator]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{if(d=b.next(),d.done)break;e=d.value}for(var f=e,g=f.result,h=f.elements,i=h,j=Array.isArray(i),k=0,i=j?i:i[Symbol.iterator]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{if(k=i.next(),k.done)break;l=k.value}var m=l;this.remove(m,g)}}for(var n=a.render,o=Array.isArray(n),p=0,n=o?n:n[Symbol.iterator]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{if(p=n.next(),p.done)break;q=p.value}var r=q,g=r.result,h=r.elements;console.debug(g,h);for(var s=h,t=Array.isArray(s),u=0,s=t?s:s[Symbol.iterator]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{if(u=s.next(),u.done)break;v=u.value}var w=v;this.add(w,g)}}},a.prototype.add=function(a,b){if(!b.valid){var c=a.closest(".form-group");if(c){c.classList.add("has-error");var d=document.createElement("span");d.className="help-block validation-message",d.textContent=b.message,d.id="validation-message-"+b.id,c.appendChild(d)}}},a.prototype.remove=function(a,b){if(!b.valid){var c=a.closest(".form-group");if(c){var d=c.querySelector("#validation-message-"+b.id);d&&(c.removeChild(d),0===c.querySelectorAll(".help-block.validation-message").length&&c.classList.remove("has-error"))}}},a}()),a("BootstrapFormRenderer",g)}}}),System.register("forgot-reset.js",["aurelia-framework","aurelia-fetch-client","services/api-client","aurelia-validation","bootstrap-form-renderer"],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,h,i,j,k,l,m,n;return{setters:[function(a){d=a.inject,e=a.bindable},function(a){f=a.json},function(a){g=a.ApiClient},function(a){h=a.ValidationControllerFactory,i=a.ValidationController,j=a.ValidationRules},function(a){k=a.BootstrapFormRenderer}],execute:function(){a("ForgotReset",(l=d(g,h),n=l(m=function(){function a(b,d){c(this,a),this.heading="Change your password",this.message={},this.controller=null,this.user={reset_password_token:"",password:"",password_confirmation:""},this.http=b,this.controller=d.createForCurrentScope(),this.controller.addRenderer(new k)}return a.prototype.activate=function(a,b){var c=this;return this.routeConfig=b,this.user.reset_password_token=a.reset_password_token,this.http.fetch("users/password",{method:"put",body:f({user:{reset_password_token:this.user.reset_password_token}})})["catch"](function(a){a.json().then(function(a){a.errors.reset_password_token&&a.errors.reset_password_token.length>0&&(c.message={error:"Link is invalid or expired"})})})},a.prototype.submit=function(){var a=this;this.controller.validate().then(function(b){b.valid&&a.forgot()})},a.prototype.forgot=function(){var a=this;return this.http.fetch("users/password",{method:"put",body:f({user:this.user})}).then(function(b){a.message={success:"Password for your account has been changed!"}})["catch"](function(b){b.json().then(function(b){var c=b.errors;Object.keys(c).map(function(b){a.controller.addError(c[b],a.user,b)})})})},a}())||m)),a("ForgotReset",n)}}}),System.register("main.js",["bootstrap"],function(a,b){"use strict";function c(a){a.use.standardConfiguration().developmentLogging().plugin("aurelia-validation"),a.start().then(function(){return a.setRoot()})}return a("configure",c),{setters:[function(a){}],execute:function(){}}}),function(){var a=System.amdDefine;a("nav-bar.html!github:systemjs/plugin-text@0.0.8.js",[],function(){return'<template bindable="router"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#skeleton-navigation-navbar-collapse"><span class="sr-only">Toggle Navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="#"><i class="fa fa-home"></i> <span>${router.title}</span></a></div><div class="collapse navbar-collapse" id="skeleton-navigation-navbar-collapse"><ul class="nav navbar-nav"><li repeat.for="row of router.navigation" class="${row.isActive ? \'active\' : \'\'}"><a data-toggle="collapse" data-target="#skeleton-navigation-navbar-collapse.in" href.bind="row.href">${row.title}</a></li></ul><ul class="nav navbar-nav navbar-right"><li class="loader" if.bind="router.isNavigating"><i class="fa fa-spinner fa-spin fa-2x"></i></li></ul></div></nav></template>'})}(),function(){var a=System.amdDefine;a("password-confirmation.html!github:systemjs/plugin-text@0.0.8.js",[],function(){return'<template><require from="blur-image"></require><section class="au-animate col-md-4 col-md-offset-4"><h2 class="text-center">${heading}</h2><h4 if.bind="message.success" class="alert alert-success" role="alert">${message.success}</h4><h4 if.bind="message.error" class="alert alert-danger" role="alert">${message.error}</h4></section></template>'})}(),System.register("configs/environment.js",[],function(a,b){"use strict";var c;return{setters:[],execute:function(){a("env",c="production"),a("env",c)}}}),System.register("configs/app.js",["./environment"],function(a,b){"use strict";var c,d,e,f,g;return{setters:[function(a){c=a.env}],execute:function(){f={},d={host:"http://localhost:3000/"},e={host:"https://chatp-rails5.herokuapp.com/"},f=Object.assign(f,"development"===c?d:e),a("configApp",g=f),a("configApp",g)}}}),System.register("services/api-client.js",["aurelia-framework","aurelia-fetch-client","../configs/app"],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f,g,h,i;return{setters:[function(a){d=a.inject},function(a){e=a.HttpClient},function(a){f=a.configApp}],execute:function(){a("ApiClient",(g=d(e),i=g(h=function b(a){return c(this,b),a.configure(function(a){a.useStandardConfiguration().withDefaults({headers:{Accept:"application/json","Content-Type":"application/json"}}).withBaseUrl(f.host)})})||h)),a("ApiClient",i)}}}),System.register("password-confirmation.js",["aurelia-framework","aurelia-fetch-client","services/api-client"],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a){return a.charAt(0).toUpperCase()+a.slice(1)}var e,f,g,h,i,j,k;return{setters:[function(a){e=a.inject,f=a.bindable},function(a){g=a.json},function(a){h=a.ApiClient}],execute:function(){a("PasswordConfirmation",(i=e(h),k=i(j=function(){function a(b){c(this,a),this.heading="Account confirmation",this.message={},this.http=b}return a.prototype.activate=function(a,b){var c=this;return this.routeConfig=b,this.http.fetch("users/confirmation?confirmation_token="+a.confirmation_token).then(function(a){c.message={success:"You're ready to listen and chat!"}})["catch"](function(a){a.json().then(function(a){Object.keys(a).map(function(b){c.message={error:d(b).replace(/[_-]/g," ")+" "+a[b]}})})})},a}())||j)),a("PasswordConfirmation",k)}}}),function(){var a=System.amdDefine;a("welcome.html!github:systemjs/plugin-text@0.0.8.js",[],function(){return'<template><section class="au-animate"></section></template>'})}(),System.register("welcome.js",[],function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d,e,f;return{setters:[],execute:function(){d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),a("Welcome",e=function(){function a(){c(this,a),this.heading="Welcome to the Aurelia Navigation App!",this.firstName="John",this.lastName="Doe",this.previousValue=this.fullName}return a.prototype.submit=function(){this.previousValue=this.fullName,alert("Welcome, "+this.fullName+"!")},a.prototype.canDeactivate=function(){if(this.fullName!==this.previousValue)return confirm("Are you sure you want to leave?")},d(a,[{key:"fullName",get:function(){return this.firstName+" "+this.lastName}}]),a}()),a("Welcome",e),a("UpperValueConverter",f=function(){function a(){c(this,a)}return a.prototype.toView=function(a){return a&&a.toUpperCase()},a}()),a("UpperValueConverter",f)}}});